let cc = core.import(core.path("ctools.rain"))

# Build foo
pub fn build() {
    return cc.build(core.file(core.path("main.c")), core.path("foo"))
}

pub fn test_output() {
    let b = build()
    let out = std.run(program = b, args = [], extras = [])
    if !core.eq(out.stdout, "Hello world :)\nGood bye\n") {
        core.print(out.stdout)
        core.error("stdout did not match expected")
    }
}

pub fn call_twice() {
    let b1 = build()
    let b2 = build()
}
